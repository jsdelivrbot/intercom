{"version":3,"sources":["/Users/yinishi/GitHub/intercom/client/src/$_lazy_route_resource lazy","/Users/yinishi/GitHub/intercom/client/src/app/app.component.css","/Users/yinishi/GitHub/intercom/client/src/app/app.component.html","/Users/yinishi/GitHub/intercom/client/src/app/app.component.ts","/Users/yinishi/GitHub/intercom/client/src/app/app.module.ts","/Users/yinishi/GitHub/intercom/client/src/app/chat-box/chat-box.component.css","/Users/yinishi/GitHub/intercom/client/src/app/chat-box/chat-box.component.html","/Users/yinishi/GitHub/intercom/client/src/app/chat-box/chat-box.component.ts","/Users/yinishi/GitHub/intercom/client/src/app/conversation-list/conversation-list.component.css","/Users/yinishi/GitHub/intercom/client/src/app/conversation-list/conversation-list.component.html","/Users/yinishi/GitHub/intercom/client/src/app/conversation-list/conversation-list.component.ts","/Users/yinishi/GitHub/intercom/client/src/app/core/conversation.service.ts","/Users/yinishi/GitHub/intercom/client/src/app/core/models/conversation.model.ts","/Users/yinishi/GitHub/intercom/client/src/app/core/models/message.model.ts","/Users/yinishi/GitHub/intercom/client/src/app/core/models/user.model.ts","/Users/yinishi/GitHub/intercom/client/src/app/core/pipes/sort-by-latest.pipe.ts","/Users/yinishi/GitHub/intercom/client/src/app/core/socket.service.ts","/Users/yinishi/GitHub/intercom/client/src/app/core/user.service.ts","/Users/yinishi/GitHub/intercom/client/src/app/message/message.component.css","/Users/yinishi/GitHub/intercom/client/src/app/message/message.component.html","/Users/yinishi/GitHub/intercom/client/src/app/message/message.component.ts","/Users/yinishi/GitHub/intercom/client/src/app/navbar/navbar.component.css","/Users/yinishi/GitHub/intercom/client/src/app/navbar/navbar.component.html","/Users/yinishi/GitHub/intercom/client/src/app/navbar/navbar.component.ts","/Users/yinishi/GitHub/intercom/client/src/environments/environment.ts","/Users/yinishi/GitHub/intercom/client/src/main.ts","ws (ignored)"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yinishi/GitHub/intercom/client/src/$$_lazy_route_resource lazy\n// module id = ../../../../../src/$$_lazy_route_resource lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".container {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  height: calc(100vh - 40px);\\n}\\n\\n#convo-container {\\n  height: 100%;\\n  width: 30vw;\\n  overflow: auto;\\n  border-right: 1px solid #D8D9DE;\\n  /*background-color: cadetblue;*/\\n}\\n\\n#chat-container {\\n  height: 100%;\\n  -webkit-box-flex: 1;\\n      -ms-flex-positive: 1;\\n          flex-grow: 1;\\n  overflow: hidden;\\n  background-color: #eef1f6;\\n}\\n\\n\\n\\n\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yinishi/GitHub/intercom/client/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<app-navbar></app-navbar>\\n<div class=\\\"container\\\">\\n\\n  <div id=\\\"convo-container\\\">\\n    <app-conversation-list></app-conversation-list>\\n  </div>\\n\\n  <div id=\\\"chat-container\\\">\\n    <router-outlet></router-outlet>\\n  </div>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yinishi/GitHub/intercom/client/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import {Component} from '@angular/core';\nimport {SocketService} from './core/socket.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  // need to inject socket service here so sockets can open\n  constructor(private socketService: SocketService) { }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { AppComponent } from './app.component';\nimport {SocketService} from './core/socket.service';\nimport {ConversationService} from './core/conversation.service';\nimport { ChatBoxComponent } from './chat-box/chat-box.component';\nimport {UserService} from './core/user.service';\nimport { SortByLatestPipe } from './core/pipes/sort-by-latest.pipe';\nimport { NavbarComponent } from './navbar/navbar.component';\nimport { ConversationListComponent } from './conversation-list/conversation-list.component';\nimport { MessageComponent } from './message/message.component';\n\nconst appRoutes: Routes = [\n  { path: 'conversation/:id', component: ChatBoxComponent },\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ChatBoxComponent,\n    SortByLatestPipe,\n    NavbarComponent,\n    ConversationListComponent,\n    MessageComponent\n  ],\n  imports: [\n    BrowserModule,\n    RouterModule.forRoot(appRoutes)\n  ],\n  providers: [\n    SocketService,\n    ConversationService,\n    UserService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/app.module.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#chat-box {\\n  height: calc(100% - 40px);\\n  padding: 20px;\\n  position: relative;\\n  overflow: auto;\\n}\\n\\ninput {\\n  border-top: 1px solid #D8D9DE;\\n  width: 100%;\\n  height: 40px;\\n  position: absolute;\\n  bottom: 0;\\n  padding: 10px;\\n}\\n\\ninput:disabled {\\n  background-color: #f7f7f8;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yinishi/GitHub/intercom/client/src/app/chat-box/chat-box.component.css\n// module id = ../../../../../src/app/chat-box/chat-box.component.css\n// module chunks = main","module.exports = \"<div id=\\\"chat-box\\\">\\n  <h2>{{conversation?.visitor.alias}}</h2>\\n\\n  <div *ngFor=\\\"let message of conversation?.log\\\">\\n    <app-message [message]=\\\"message\\\"\\n                 [visitor]=\\\"conversation.visitor\\\"></app-message>\\n  </div>\\n\\n  <div *ngIf=\\\"!conversation?.open\\\">\\n    <em>The user has disconnected.</em>\\n  </div>\\n</div>\\n\\n<input autofocus\\n       (keydown)=\\\"send($event)\\\"\\n       [disabled]=\\\"!conversation?.open\\\">\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yinishi/GitHub/intercom/client/src/app/chat-box/chat-box.component.html\n// module id = ../../../../../src/app/chat-box/chat-box.component.html\n// module chunks = main","import {Component, OnInit} from '@angular/core';\nimport {ConversationService} from '../core/conversation.service';\nimport {Message} from '../core/models/message.model';\nimport {SocketService} from '../core/socket.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {UserService} from '../core/user.service';\nimport {User} from '../core/models/user.model';\nimport {Conversation} from '../core/models/conversation.model';\n\n@Component({\n  selector: 'app-chat-box',\n  templateUrl: './chat-box.component.html',\n  styleUrls: ['./chat-box.component.css']\n})\nexport class ChatBoxComponent implements OnInit {\n\n  public conversation: Conversation;\n\n  constructor(public conversationService: ConversationService, public userService: UserService, private socketService: SocketService, private route: ActivatedRoute, private router: Router) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.conversation = this.conversationService.getConversation(params.id);\n\n      // If url contains invalid user ID\n      if (this.conversation === null) {\n        this.router.navigateByUrl('/');\n        return;\n      }\n    });\n  }\n\n  private scrollToBottom(): void {\n    const el = document.getElementById('chat-box');\n    el.scrollTop = el.scrollHeight;\n  }\n\n  send(e) {\n    if (e.keyCode === 13) {\n      e.preventDefault();\n\n      const msg = new Message(this.userService.admin, e.target.value);\n\n      // send new message to visitor\n      this.socketService.sendMessage(this.conversation.visitor.id, msg);\n\n      // add new message to the conversation log\n      this.conversationService.addNewMessage(this.conversation.visitor.id, msg);\n      e.target.value = '';\n\n      // Scroll chat window to bottom\n      this.scrollToBottom();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/chat-box/chat-box.component.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".tab {\\n  display: block;\\n  height: 70px;\\n  width: auto;\\n  border-bottom: 1px solid #D8D9DE;\\n  padding: 10px;\\n}\\n\\n.tab:hover {\\n  background-color: #eef1f6;\\n}\\n\\n.tab.is-active {\\n  background-color: #e5eaf2;\\n}\\n\\n.closed > * {\\n  color: #D8D9DE;\\n}\\n\\n.last-message {\\n  font-style: italic;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yinishi/GitHub/intercom/client/src/app/conversation-list/conversation-list.component.css\n// module id = ../../../../../src/app/conversation-list/conversation-list.component.css\n// module chunks = main","module.exports = \"<div *ngIf=\\\"conversations.length === 0\\\" style=\\\"padding: 10px\\\">\\n  <em>No active conversations.</em>\\n</div>\\n\\n<div *ngFor=\\\"let convo of (conversations | sortByLatest)\\\">\\n  <a class=\\\"tab\\\"\\n     routerLink=\\\"/conversation/{{convo.visitor.id}}\\\"\\n     routerLinkActive=\\\"is-active\\\"\\n     [ngClass]=\\\"{'closed': !convo.open}\\\">\\n\\n    <h4>{{convo.visitor.alias}}</h4>\\n\\n    <p class=\\\"last-message\\\">{{convo.latestMessage.userAlias}}: {{convo.latestMessage.text}}</p>\\n  </a>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yinishi/GitHub/intercom/client/src/app/conversation-list/conversation-list.component.html\n// module id = ../../../../../src/app/conversation-list/conversation-list.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport {ConversationService} from '../core/conversation.service';\n\n@Component({\n  selector: 'app-conversation-list',\n  templateUrl: './conversation-list.component.html',\n  styleUrls: ['./conversation-list.component.css']\n})\nexport class ConversationListComponent implements OnInit {\n\n  conversations;\n\n  constructor(public conversationService: ConversationService) { }\n\n  ngOnInit() {\n    this.conversations = this.conversationService.getAllConversations();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/conversation-list/conversation-list.component.ts","import { Injectable } from '@angular/core';\nimport { Message } from './models/message.model';\nimport {Observable} from 'rxjs/Observable';\nimport {Conversation} from './models/conversation.model';\nimport {User} from './models/user.model';\nimport {UserService} from './user.service';\n\n@Injectable()\nexport class ConversationService {\n\n  private conversations: Conversation[] = [];\n\n  constructor(private userService: UserService) { }\n\n  private createConversation(id: string): Conversation {\n    const newVisitor = new User(id);\n    const newConvo = new Conversation(newVisitor);\n    this.conversations.push(newConvo);\n    return newConvo;\n  }\n\n  public getAllConversations(): Conversation[] {\n    return this.conversations;\n  }\n\n  public getConversation(id: string): Conversation {\n    const found = this.conversations.filter((c) => {\n      return c.id === id;\n    });\n    return found.length > 0 ? found[0] : null;\n  }\n\n  public addNewMessage(id: string, message: Message): void {\n    // Find the relevant conversation the message should belong to\n    let conv = this.getConversation(id);\n    if (conv === null) {\n      conv = this.createConversation(id);\n    }\n\n    // Update the message with the relevant user alias\n    message.userAlias = (message.userId === id) ? conv.visitor.alias : this.userService.admin.alias;\n\n    // Add the message to the conversation\n    conv.log.push(message);\n    conv.latestMessage = message;\n  }\n\n  public endConversation(id: string): void {\n    const conv = this.getConversation(id);\n    if (conv) {\n      conv.open = false;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/core/conversation.service.ts","import {IMessage, Message} from './message.model';\nimport {User} from './user.model';\n\nexport interface IConversation {\n  id: string;\n  visitor: User;\n  log: IMessage[];\n  latestMessage: Message;\n  open: boolean;\n}\n\nexport class Conversation implements IConversation {\n  id: string;\n  visitor: User;\n  log: IMessage[];\n  latestMessage: Message;\n  open: boolean;\n\n  constructor(visitor: User) {\n    this.id = visitor.id;\n    this.visitor = visitor;\n    this.log = [];\n    this.latestMessage = null;\n    this.open = true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/core/models/conversation.model.ts","import {User} from './user.model';\n\nexport interface IMessage {\n  userId: string;\n  userAlias?: string;\n  text: string;\n  timestamp: number;\n}\n\nexport class Message implements IMessage {\n  userId: string;\n  userAlias?: string;\n  text: string;\n  timestamp: number;\n\n  constructor(user: User, text: string) {\n    this.userId = user.id;\n    this.userAlias = user.alias;\n    this.text = text;\n    this.timestamp = Date.now();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/core/models/message.model.ts","/* User can be either admin or visitor */\n\nexport interface IUser {\n  id: string;\n  alias: string;\n  avatarColor: string;\n}\n\nexport class User implements IUser {\n  id: string;\n  alias: string;\n  avatarColor: string;\n\n  constructor(id, alias?) {\n    this.id = id;\n    this.alias = alias || this.getRandomName();\n    this.avatarColor = '#' + (Math.random() * 0xFFFFFF << 0).toString(16);\n  }\n\n  getRandomName(): string {\n    const adjectives = ['Bouncing', 'Exuberant', 'Formidable', 'Blue', 'Happy', 'Amazing', 'Opulent', 'Stylish', 'Squishy'];\n    const nouns = ['Balloon', 'Hat', 'Giraffe', 'Leopard', 'Axe', 'Apricot', 'Oak', 'Gorilla'];\n\n    const adjIdx = Math.floor(Math.random() * adjectives.length);\n    const nounIdx = Math.floor(Math.random() * nouns.length);\n\n    return `${adjectives[adjIdx]} ${nouns[nounIdx]}`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/core/models/user.model.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport {Conversation} from '../models/conversation.model';\n\n@Pipe({\n  name: 'sortByLatest',\n  pure: false\n})\nexport class SortByLatestPipe implements PipeTransform {\n\n  // Sort conversations with the latest *from a visitor* on top\n  transform(conversations: Conversation[]): any {\n    return conversations.sort((a, b) => {\n      const aliasA = a.latestMessage.userAlias;\n      const aliasB = b.latestMessage.userAlias;\n\n\n      const timeA = a.latestMessage.timestamp;\n      const timeB = b.latestMessage.timestamp;\n\n      if (timeA > timeB) {\n        return -1;\n      }\n\n      if (timeA < timeB) {\n        return 1;\n      }\n\n      return 0;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/core/pipes/sort-by-latest.pipe.ts","import * as io from 'socket.io-client';\nimport { Injectable } from '@angular/core';\nimport { Message } from './models/message.model';\nimport {ConversationService} from './conversation.service';\nimport {UserService} from './user.service';\nimport {environment} from '../../environments/environment';\n\n@Injectable()\nexport class SocketService {\n\n  private socket;\n\n  constructor(private conversationService: ConversationService, private userService: UserService) {\n    this.socket = io(environment.socketUrl);\n\n    // this tells the server which socket ID belongs to the admin\n    this.socket.emit('admin-init', 'admin initialized');\n\n    // set admin ID within the app\n    this.socket.on('admin-id-set', (id: string) => {\n      this.userService.setAdmin(id);\n    });\n\n    // listens for messages from visitors\n    this.socket.on('visitor-message', (message: Message) => {\n      this.conversationService.addNewMessage(message.userId, message);\n    });\n\n    // listens for visitor disconnect\n    this.socket.on('visitor-disconnected', (id: string) => {\n      this.conversationService.endConversation(id);\n    });\n  }\n\n  public sendMessage(visitorId: string, msg: Message) {\n    const data = {\n      userId: visitorId,\n      text: msg.text\n    };\n\n    this.socket.emit('reply', data);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/core/socket.service.ts","import { Injectable } from '@angular/core';\nimport {User} from './models/user.model';\n\n@Injectable()\nexport class UserService {\n\n  admin: User;\n\n  constructor() { }\n\n  public setAdmin(id: string) {\n    if (!this.admin) {\n      this.admin = new User(id, 'You');\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/core/user.service.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".message {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  padding: 5px;\\n}\\n\\n.admin {\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: reverse;\\n      -ms-flex-direction: row-reverse;\\n          flex-direction: row-reverse;\\n}\\n\\n.visitor {\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n}\\n\\n.admin > .avatar {\\n  margin-left: 15px;\\n}\\n\\n.visitor > .avatar {\\n  margin-right: 15px;\\n}\\n\\n.avatar {\\n  width: 40px;\\n  height: 40px;\\n  border: 1px solid #D8D9DE;\\n  border-radius: 5px;\\n}\\n\\n.bubble {\\n  width: auto;\\n  border: 1px solid #D8D9DE;\\n  padding: 10px;\\n  background-color: white;\\n  border-radius: 5px;\\n}\\n\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yinishi/GitHub/intercom/client/src/app/message/message.component.css\n// module id = ../../../../../src/app/message/message.component.css\n// module chunks = main","module.exports = \"<div class=\\\"message\\\"\\n     [ngClass]=\\\"userType\\\">\\n  <div class=\\\"avatar\\\"\\n       [ngStyle]=\\\"{'background-color': avatarColor}\\\"></div>\\n  <div class=\\\"bubble\\\">\\n    {{message.text}}\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yinishi/GitHub/intercom/client/src/app/message/message.component.html\n// module id = ../../../../../src/app/message/message.component.html\n// module chunks = main","import {Component, Input, OnInit} from '@angular/core';\nimport {Message} from '../core/models/message.model';\nimport {User} from '../core/models/user.model';\n\n@Component({\n  selector: 'app-message',\n  templateUrl: './message.component.html',\n  styleUrls: ['./message.component.css']\n})\nexport class MessageComponent implements OnInit {\n\n  @Input() message: Message;\n  @Input() visitor: User;\n\n  userType: string;\n  avatarColor: string;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.userType = this.getUserType(this.message.userAlias);\n    this.avatarColor = this.getAvatarColor();\n  }\n\n  private getUserType(alias: string): string {\n    return alias === 'You' ? 'admin' : 'visitor';\n  }\n\n  private getAvatarColor(): string {\n    return this.userType === 'admin' ? '#584848' : this.visitor.avatarColor;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/message/message.component.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"nav {\\n  height: 40px;\\n  background-color: #6E7889;\\n  padding: 0 10px;\\n}\\n\\nh1 {\\n  color: #D8D9DE;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yinishi/GitHub/intercom/client/src/app/navbar/navbar.component.css\n// module id = ../../../../../src/app/navbar/navbar.component.css\n// module chunks = main","module.exports = \"<nav><a routerLink=\\\"/\\\"><h1>💬</h1></a></nav>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yinishi/GitHub/intercom/client/src/app/navbar/navbar.component.html\n// module id = ../../../../../src/app/navbar/navbar.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/app/navbar/navbar.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n  socketUrl: 'http://localhost:8888'\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// /Users/yinishi/GitHub/intercom/client/src/main.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 1\n// module chunks = main"],"sourceRoot":"webpack:///"}